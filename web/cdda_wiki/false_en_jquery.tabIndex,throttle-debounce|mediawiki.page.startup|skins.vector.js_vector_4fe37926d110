mw.loader.implement("jquery.tabIndex",function($,jQuery){(function($){$.fn.firstTabIndex=function(){var minTabIndex=null;$(this).find('[tabindex]').each(function(){var tabIndex=parseInt($(this).prop('tabindex'),10);if(tabIndex>0&&!isNaN(tabIndex)){if(minTabIndex===null){minTabIndex=tabIndex;}else if(tabIndex<minTabIndex){minTabIndex=tabIndex;}}});return minTabIndex;};$.fn.lastTabIndex=function(){var maxTabIndex=null;$(this).find('[tabindex]').each(function(){var tabIndex=parseInt($(this).prop('tabindex'),10);if(tabIndex>0&&!isNaN(tabIndex)){if(maxTabIndex===null){maxTabIndex=tabIndex;}else if(tabIndex>maxTabIndex){maxTabIndex=tabIndex;}}});return maxTabIndex;};}(jQuery));});mw.loader.implement("jquery.throttle-debounce",function($,jQuery){(function(window,undefined){'$:nomunge';var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=='boolean'){
debounce_mode=callback;callback=no_trailing;no_trailing=undefined;}function wrapper(){var that=this,elapsed=+new Date()-last_exec,args=arguments;function exec(){last_exec=+new Date();callback.apply(that,args);};function clear(){timeout_id=undefined;};if(debounce_mode&&!timeout_id){exec();}timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec();}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay);}};if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++;}return wrapper;};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false):jq_throttle(delay,callback,at_begin!==false);};})(this);});mw.loader.implement("mediawiki.page.startup",function($,jQuery){(function(mw,$){document.documentElement.className=document.documentElement.className.replace(/(^|\s)client-nojs(\s|$)/,'$1client-js$2');mw.page={};$(function(){mw.util.init();mw.hook(
'wikipage.content').fire($('#mw-content-text'));});}(mediaWiki,jQuery));});mw.loader.implement("skins.vector.js",function($,jQuery){(function($){var rtl=$('html').attr('dir')==='rtl';$.fn.collapsibleTabs=function(options){if(!this.length){return this;}var settings=$.extend({},$.collapsibleTabs.defaults,options);this.each(function(){var $el=$(this);$.collapsibleTabs.instances=$.collapsibleTabs.instances.add($el);$el.data('collapsibleTabsSettings',settings);$el.children(settings.collapsible).each(function(){$.collapsibleTabs.addData($(this));});});if(!$.collapsibleTabs.boundEvent){$(window).on('resize',$.debounce(500,function(){$.collapsibleTabs.handleResize();}));$.collapsibleTabs.boundEvent=!0;}$.collapsibleTabs.handleResize();return this;};$.collapsibleTabs={instances:$([]),boundEvent:null,defaults:{expandedContainer:'#p-views ul',collapsedContainer:'#p-cactions ul',collapsible:'li.collapsible',shifting:!1,expandCondition:function(eleWidth){return $.collapsibleTabs.
calculateTabDistance()>=eleWidth+1;},collapseCondition:function(){return $.collapsibleTabs.calculateTabDistance()<0;}},addData:function($collapsible){var settings=$collapsible.parent().data('collapsibleTabsSettings');if(settings){$collapsible.data('collapsibleTabsSettings',{expandedContainer:settings.expandedContainer,collapsedContainer:settings.collapsedContainer,expandedWidth:$collapsible.width(),prevElement:$collapsible.prev()});}},getSettings:function($collapsible){var settings=$collapsible.data('collapsibleTabsSettings');if(!settings){$.collapsibleTabs.addData($collapsible);settings=$collapsible.data('collapsibleTabsSettings');}return settings;},handleResize:function(){$.collapsibleTabs.instances.each(function(){var $el=$(this),data=$.collapsibleTabs.getSettings($el);if(data.shifting){return;}if($el.children(data.collapsible).length>0&&data.collapseCondition()){$el.trigger('beforeTabCollapse');$.collapsibleTabs.moveToCollapsed($el.children(data.collapsible+':last'));}if($(data.
collapsedContainer+' '+data.collapsible).length>0&&data.expandCondition($.collapsibleTabs.getSettings($(data.collapsedContainer).children(data.collapsible+':first')).expandedWidth)){$el.trigger('beforeTabExpand');$.collapsibleTabs.moveToExpanded(data.collapsedContainer+' '+data.collapsible+':first');}});},moveToCollapsed:function(ele){var outerData,expContainerSettings,target,$moving=$(ele);outerData=$.collapsibleTabs.getSettings($moving);if(!outerData){return;}expContainerSettings=$.collapsibleTabs.getSettings($(outerData.expandedContainer));if(!expContainerSettings){return;}expContainerSettings.shifting=!0;target=outerData.collapsedContainer;$moving.css('position','relative').css((rtl?'left':'right'),0).animate({width:'1px'},'normal',function(){var data,expContainerSettings;$(this).hide();$('<span class="placeholder" style="display: none;"></span>').insertAfter(this);$(this).detach().prependTo(target).data('collapsibleTabsSettings',outerData);$(this).attr('style',
'display: list-item;');data=$.collapsibleTabs.getSettings($(ele));if(data){expContainerSettings=$.collapsibleTabs.getSettings($(data.expandedContainer));if(expContainerSettings){expContainerSettings.shifting=!1;$.collapsibleTabs.handleResize();}}});},moveToExpanded:function(ele){var data,expContainerSettings,$target,expandedWidth,$moving=$(ele);data=$.collapsibleTabs.getSettings($moving);if(!data){return;}expContainerSettings=$.collapsibleTabs.getSettings($(data.expandedContainer));if(!expContainerSettings){return;}expContainerSettings.shifting=!0;$target=$(data.expandedContainer).find('span.placeholder:first');expandedWidth=data.expandedWidth;$moving.css('position','relative').css((rtl?'right':'left'),0).css('width','1px');$target.replaceWith($moving.detach().css('width','1px').data('collapsibleTabsSettings',data).animate({width:expandedWidth+'px'},'normal',function(){$(this).attr('style','display: block;');var data,expContainerSettings;data=$.collapsibleTabs.getSettings($(this))
;if(data){expContainerSettings=$.collapsibleTabs.getSettings($(data.expandedContainer));if(expContainerSettings){expContainerSettings.shifting=!1;$.collapsibleTabs.handleResize();}}}));},calculateTabDistance:function(){var $leftTab,$rightTab,leftEnd,rightStart;if(!rtl){$leftTab=$('#left-navigation');$rightTab=$('#right-navigation');}else{$leftTab=$('#right-navigation');$rightTab=$('#left-navigation');}leftEnd=$leftTab.offset().left+$leftTab.width();rightStart=$rightTab.offset().left;return rightStart-leftEnd;}};}(jQuery));jQuery(function($){$('#searchInput').attr('tabindex',$(document).lastTabIndex()+1);$('div.vectorMenu').each(function(){var $el=$(this);$el.find('> h3 > a').parent().attr('tabindex','0').on('click keypress',function(e){if(e.type==='click'||e.which===13){$el.toggleClass('menuForceShow');e.preventDefault();}}).focus(function(){$el.find('> a').addClass('vectorMenuFocus');}).blur(function(){$el.find('> a').removeClass('vectorMenuFocus');}).find('> a:first').attr(
'tabindex','-1');});var $cactions=$('#p-cactions'),$tabContainer=$('#p-views ul'),originalDropdownWidth=$cactions.width();$tabContainer.bind('beforeTabCollapse',function(){if($cactions.hasClass('emptyPortlet')){$cactions.removeClass('emptyPortlet').find('h3').css('width','1px').animate({width:originalDropdownWidth},'normal');}}).bind('beforeTabExpand',function(){if($cactions.find('li').length===1){$cactions.find('h3').animate({width:'1px'},'normal',function(){$(this).attr('style','').parent().addClass('emptyPortlet');});}}).collapsibleTabs({expandCondition:function(eleWidth){var distance=$.collapsibleTabs.calculateTabDistance();if(distance>=eleWidth+1){return true;}else{if($cactions.find('li').length===1){return distance>=eleWidth+1-originalDropdownWidth;}else{return false;}}},collapseCondition:function(){if($.collapsibleTabs.calculateTabDistance()<0){if($cactions.hasClass('emptyPortlet')){return $tabContainer.children('li.collapsible:last').width()>originalDropdownWidth;}else{return true
;}}else{return false;}}});});});